{% extends "base.html" %}

{% block content %}

<div class="container">
  <div class="row">
    <h2> Welcome to your To-Do App! </h2>
  </div>
</div>

<br />
<br />

<!-- Add to todo list -->
<div class="container">
  <div class="row">
    <h3 class="section-header"> Do you want to add something to your to-do list? </h3>

    <form action="./create/" method="POST"> {% csrf_token %}
      <label for = "task">Task to add:</label>
      <input type = "text" id = "task" name = "task"/>
      <input type="submit" value = "Add task" name="add_task"/>
      <br />
    </form>
  </div>
</div>

<br />
<br />

<!-- List of current todo list -->
<div class="container">
  <div class="row">
    <h3 class="section-header"> Check out what's already in your to-do list: </h3>

    {% for task in task_list %}
      <div class="container">
        <div class="row mt-2">
          <form action="./modify/", method="POST"> {% csrf_token %}
            <!-- Finish, edit, or delete tasks. Post to views for processing -->
            <label class="current-todo">Task {{forloop.counter}} : {{task.text}}</label>
            <input type="hidden" name="task-id" value="{{task.id}}"></input>
            <button type="submit" class="task-button finish-button" name="change_type" value="finish">Finish</button>
            <button type="submit" class="task-button edit-button" name="change_type" value="edit">Edit</button>
            <button type="submit" class="task-button delete-button" name="change_type" value="delete">Delete</button>
          </form>
          <br />
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- List of finished tasks -->
<div class = "container">
  <div class = "row">
    <h3 class="section-header">Check out your past tasks:</h3>
    {% for task in task_list %}
      {% if task.is_finished %}
        <p>
          {{task.text}}: Finished
        </p>
      {% endif %}
    {% endfor %}
  </div>
</div>


{% endblock %}
